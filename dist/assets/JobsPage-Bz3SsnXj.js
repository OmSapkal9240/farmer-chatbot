import{r as o,j as t,f as N}from"./index-SuqBYE3h.js";async function b(e,s="hi"){if(!e||typeof e!="string")return e;try{const r=await fetch("https://libretranslate.com/translate",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({q:e,source:"auto",target:s,format:"text"})});if(!r.ok)return console.warn("LibreTranslate bad response:",r.status),e;const l=await r.json();return l.translatedText||l.result||e}catch(r){return console.warn("autoTranslate error:",r),e}}function S({originalText:e,lang:s="hi",cacheKey:r,children:l}){const[m,g]=o.useState(!1),[h,c]=o.useState(null),[f,u]=o.useState(null),[p,d]=o.useState(!1),i=r?`trans_cache_${r}`:null,x=()=>{if(!i)return null;try{const a=localStorage.getItem(i);return a&&JSON.parse(a)[s]||null}catch{return null}},j=a=>{if(i)try{const n=localStorage.getItem(i),y=n?JSON.parse(n):{};y[s]=a,localStorage.setItem(i,JSON.stringify(y))}catch{}},w=async()=>{if(u(null),p){d(!1);return}const a=x();if(a){c(a),d(!0);return}g(!0);try{const n=await b(e,s);c(n),j(n),d(!0)}catch{u("Translation failed")}finally{g(!1)}};return o.useEffect(()=>{const a=x();a?c(a):(c(null),d(!1)),u(null)},[e,s]),t.jsxs("div",{className:"inline-flex flex-col items-start gap-2",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("button",{onClick:w,disabled:!e||m,className:"px-3 py-1 bg-green-600 text-white rounded text-sm hover:opacity-90 disabled:opacity-50",children:m?"Translating...":p?"Show Original":l||"Translate"}),t.jsx("span",{className:"text-xs text-gray-300 px-2",children:s==="hi"?"हिन्दी":s==="mr"?"मराठी":"EN"})]}),f&&t.jsx("p",{className:"text-xs text-red-400",children:f}),p&&h&&t.jsx("div",{className:"mt-1 p-2 bg-white/5 rounded text-sm text-gray-100",children:h})]})}function T({job:e}){const{language:s}=N?N():{language:"en"},r=s||"en";return t.jsxs("div",{className:"p-4 bg-white/5 rounded-lg border border-white/10",children:[t.jsx("h3",{className:"text-lg font-semibold",children:e.title}),t.jsx("p",{className:"text-sm mt-2 text-gray-300",children:e.description}),r!=="en"&&t.jsx("div",{className:"mt-3",children:t.jsx(S,{originalText:e.description,lang:r,cacheKey:`job_${e.id}`,children:r==="hi"?"अनुवाद करें":r==="mr"?"अनुवाद करा":"Translate"})})]})}const v=[{id:1,title:"Farm Worker",description:"Looking for a skilled farm worker for harvesting crops. Experience with modern farming equipment is a plus."},{id:2,title:"Irrigation Specialist",description:"Seeking an irrigation specialist to manage and maintain our farm’s irrigation systems. Knowledge of drip irrigation is required."},{id:3,title:"Crop Consultant",description:"Hiring a crop consultant to provide expert advice on crop rotation, pest control, and soil management."}],C=()=>t.jsxs("div",{className:"container mx-auto px-4 py-8",children:[t.jsx("h1",{className:"text-3xl font-bold mb-6 text-center",children:"Job Listings"}),t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:v.map(e=>t.jsx(T,{job:e},e.id))})]});export{C as default};
